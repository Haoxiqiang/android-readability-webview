<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <meta http-equiv="Pragma" content="no-cache">

    <script src="readability-0.4.2/JSDOMParser.js"></script>
    <script src="readability-0.4.2/Readability.js"></script>
    <script src="readability-0.4.2/Readability-readerable.js"></script>

    <link rel="stylesheet" href="tools/heti.min.css"/>
    <script src="tools/purify-2.3.6.js"></script>
    <script src="tools/heti-addon.min.js"></script>

    <link rel="stylesheet" href="readerview.css"/>
    <script src="readerview.js"></script>

    <script>
        function getParam(param){
            return new URLSearchParams(window.location.search).get(param);
        }
        document.addEventListener('readystatechange', event => {
            // When window loaded ( external resources are loaded too- `css`,`src`, etc...)
            if (event.target.readyState === "complete") {
                showReadability(getParam("ref"));
            }
        });

        const heti = new Heti('.heti');
        heti.autoSpacing();
    </script>
</head>
</html>
